def build(bld):
    obj = bld(features='cxx cxxprogram')
    obj.use = ['libdcp%s' % bld.env.API_VERSION]
    obj.uselib = 'OPENJPEG CXML OPENMP ASDCPLIB_CTH'
    obj.source = 'dcpdiff.cc common.cc'
    obj.target = 'dcpdiff'

    obj = bld(features='cxx cxxprogram')
    obj.use = ['libdcp%s' % bld.env.API_VERSION]
    obj.uselib = 'OPENJPEG CXML OPENMP ASDCPLIB_CTH'
    obj.source = 'dcpinfo.cc common.cc'
    obj.target = 'dcpinfo'

    obj = bld(features='cxx cxxprogram')
    obj.use = ['libdcp%s' % bld.env.API_VERSION]
    obj.uselib = 'OPENJPEG CXML OPENMP ASDCPLIB_CTH'
    obj.source = 'dcpdumpsub.cc'
    obj.target = 'dcpdumpsub'
